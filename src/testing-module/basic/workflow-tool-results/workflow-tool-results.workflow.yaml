title: "Workflow Tool Result"

transitions:
  - id: create_some_data
    from: start
    to: data_created
    call:

      # Create test data and return it in the tool result
      - id: say_hello
        tool: createValue
        args:
          input: 'Hello World.'

      # Access the data using the call id as identifier
      - tool: createChatMessage
        args:
          role: 'assistant'
          content: "Data from specific call id: {{ metadata.tools.create_some_data.say_hello.data }}"

      # Access the data using the call index
      - tool: createChatMessage
        args:
          role: 'assistant'
          content: "Data from first tool call: {{ metadata.tools.create_some_data.0.data }}"

  - id: access_data
    from: data_created
    to: end
    call:

      # Access the data from a previous transition using transition and call id
      - tool: createChatMessage
        args:
          role: 'assistant'
          content: "Data from previous transition: {{ metadata.tools.create_some_data.say_hello.data }}"

      # Access the data using a custom helper function of the workflow
      - tool: createChatMessage
        args:
          role: 'assistant'
          content: "Data access using custom helper: {{ extractMessage metadata }}"